<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paging - Complete Interview Guide</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .concept-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        
        .concept-card:hover {
            transform: translateY(-5px);
        }
        
        .concept-title {
            font-size: 1.5em;
            color: #4a5568;
            margin-bottom: 15px;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }
        
        .visual-section {
            display: flex;
            align-items: center;
            gap: 30px;
            margin: 20px 0;
        }
        
        .diagram {
            flex: 1;
            text-align: center;
        }
        
        .explanation {
            flex: 1;
            font-size: 1.1em;
            line-height: 1.6;
        }
        
        .memory-frame {
            display: inline-block;
            width: 50px;
            height: 50px;
            margin: 3px;
            border: 2px solid #333;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            font-weight: bold;
            position: relative;
        }
        
        .frame-free {
            background: #e8f5e8;
            border-color: #4caf50;
            color: #2e7d32;
        }
        
        .frame-occupied {
            background: #ffebee;
            border-color: #f44336;
            color: #c62828;
        }
        
        .page-box {
            background: #e3f2fd;
            border-color: #2196f3;
            color: #1565c0;
        }
        
        .fragmentation-demo {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
        }
        
        .memory-state {
            text-align: center;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
            min-width: 200px;
        }
        
        .arrow {
            font-size: 2em;
            color: #667eea;
            margin: 0 10px;
        }
        
        .page-table {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .table-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            margin: 5px 0;
            background: white;
            border-radius: 5px;
            border-left: 4px solid #667eea;
        }
        
        .logical-address {
            background: #e8f5e8;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #4caf50;
        }
        
        .address-translation {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin: 20px 0;
            padding: 20px;
            background: #f0f8ff;
            border-radius: 10px;
        }
        
        .address-part {
            text-align: center;
            padding: 15px;
            background: white;
            border-radius: 8px;
            border: 2px solid #2196f3;
            min-width: 120px;
        }
        
        .tlb-cache {
            background: #fff3e0;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #ff9800;
        }
        
        .tlb-entry {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            margin: 5px 0;
            background: white;
            border-radius: 5px;
            border-left: 3px solid #ff9800;
        }
        
        .interactive-demo {
            background: #f5f5f5;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
        }
        
        .demo-controls {
            display: flex;
            gap: 10px;
            margin: 15px 0;
            flex-wrap: wrap;
        }
        
        .demo-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.3s ease;
        }
        
        .demo-btn:hover {
            background: #5a6fd8;
            transform: translateY(-2px);
        }
        
        .demo-btn.active {
            background: #4caf50;
        }
        
        .memory-visualization {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 20px 0;
        }
        
        .memory-section {
            background: white;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #ddd;
        }
        
        .memory-section h4 {
            text-align: center;
            margin-bottom: 15px;
            color: #333;
        }
        
        .frame-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
            margin: 15px 0;
        }
        
        .key-point {
            background: #e6fffa;
            border-left: 4px solid #38b2ac;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 10px 10px 0;
        }
        
        .interview-section {
            background: linear-gradient(135deg, #ffeaa7, #fab1a0);
            padding: 25px;
            border-radius: 15px;
            margin: 30px 0;
        }
        
        .interview-section h3 {
            color: #2d3436;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .question-card {
            background: rgba(255,255,255,0.9);
            padding: 20px;
            margin: 15px 0;
            border-radius: 10px;
            border-left: 4px solid #e17055;
        }
        
        .formula-box {
            background: #f0f8ff;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #2196f3;
            font-family: 'Courier New', monospace;
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .comparison-table th,
        .comparison-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        .comparison-table th {
            background: #667eea;
            color: white;
            font-weight: bold;
        }
        
        .comparison-table tr:hover {
            background: #f5f5f5;
        }
        
        .pros-cons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        .pros {
            background: #e8f5e8;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #4caf50;
        }
        
        .cons {
            background: #ffebee;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #f44336;
        }
        
        .timeline {
            position: relative;
            padding: 20px 0;
        }
        
        .timeline-item {
            display: flex;
            align-items: center;
            margin: 15px 0;
            padding: 15px;
            background: white;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }
        
        .timeline-number {
            background: #667eea;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
        }
        
        @media (max-width: 768px) {
            .visual-section {
                flex-direction: column;
            }
            
            .memory-visualization {
                grid-template-columns: 1fr;
            }
            
            .pros-cons {
                grid-template-columns: 1fr;
            }
            
            .address-translation {
                flex-direction: column;
                gap: 15px;
            }
            
            .demo-controls {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìÑ Paging - Complete Interview Guide</h1>
            <p>Master non-contiguous memory allocation with visual explanations</p>
        </div>

        <!-- Problem with Contiguous Allocation -->
        <div class="concept-card">
            <h2 class="concept-title">‚ùå The Problem: External Fragmentation</h2>
            <div class="visual-section">
                <div class="diagram">
                    <h4>Memory Before Paging</h4>
                    <div class="fragmentation-demo">
                        <div class="memory-state">
                            <h5>Available Memory</h5>
                            <div style="margin: 10px 0;">
                                <div class="memory-frame frame-free">1KB</div>
                                <div class="memory-frame frame-occupied">Used</div>
                                <div class="memory-frame frame-free">1KB</div>
                            </div>
                            <small>Total Free: 2KB (Non-contiguous)</small>
                        </div>
                        <div class="arrow">‚ùå</div>
                        <div class="memory-state">
                            <h5>Need to Load</h5>
                            <div style="margin: 10px 0;">
                                <div class="memory-frame" style="background: #ffcdd2; border-color: #f44336; color: #c62828;">2KB Process</div>
                            </div>
                            <small>Cannot fit! Need contiguous 2KB</small>
                        </div>
                    </div>
                </div>
                <div class="explanation">
                    <strong>External Fragmentation Problem:</strong>
                    <br>‚Ä¢ Total free memory = 2KB
                    <br>‚Ä¢ Process needs = 2KB
                    <br>‚Ä¢ But memory is scattered!
                    <br>‚Ä¢ Cannot allocate even though enough total space exists
                    <br><br>
                    <strong>Traditional Solution:</strong>
                    <br>‚Ä¢ Compaction (moving processes)
                    <br>‚Ä¢ But this is expensive and slow!
                    <br><br>
                    <strong>Paging Solution:</strong>
                    <br>‚Ä¢ Break process into smaller pieces
                    <br>‚Ä¢ Each piece fits in available holes
                </div>
            </div>
        </div>

        <!-- Paging Solution -->
        <div class="concept-card">
            <h2 class="concept-title">‚úÖ The Solution: Paging</h2>
            <div class="visual-section">
                <div class="diagram">
                    <h4>After Paging</h4>
                    <div class="fragmentation-demo">
                        <div class="memory-state">
                            <h5>Break Process into Pages</h5>
                            <div style="margin: 10px 0;">
                                <div class="memory-frame page-box">Page 0<br>1KB</div>
                                <div class="memory-frame page-box">Page 1<br>1KB</div>
                            </div>
                            <small>Process divided into 1KB pages</small>
                        </div>
                        <div class="arrow">‚úÖ</div>
                        <div class="memory-state">
                            <h5>Fit in Available Frames</h5>
                            <div style="margin: 10px 0;">
                                <div class="memory-frame" style="background: #c8e6c9; border-color: #4caf50; color: #2e7d32;">Page 0</div>
                                <div class="memory-frame frame-occupied">Used</div>
                                <div class="memory-frame" style="background: #c8e6c9; border-color: #4caf50; color: #2e7d32;">Page 1</div>
                            </div>
                            <small>Perfect fit! No external fragmentation</small>
                        </div>
                    </div>
                </div>
                <div class="explanation">
                    <strong>Paging Key Concepts:</strong>
                    <br>‚Ä¢ <strong>Pages:</strong> Fixed-size blocks of logical memory
                    <br>‚Ä¢ <strong>Frames:</strong> Fixed-size blocks of physical memory
                    <br>‚Ä¢ <strong>Page Size = Frame Size</strong> (typically 4KB)
                    <br>‚Ä¢ <strong>Non-contiguous:</strong> Pages can be anywhere in memory
                    <br><br>
                    <strong>Benefits:</strong>
                    <br>‚Ä¢ No external fragmentation
                    <br>‚Ä¢ No compaction needed
                    <br>‚Ä¢ Better memory utilization
                    <br>‚Ä¢ Flexible allocation
                </div>
            </div>
        </div>

        <!-- Interactive Memory Visualization -->
        <div class="concept-card">
            <h2 class="concept-title">üéÆ Interactive Paging Demo</h2>
            <div class="interactive-demo">
                <p>Click buttons to see how paging works:</p>
                <div class="demo-controls">
                    <button class="demo-btn" onclick="resetMemory()">Reset Memory</button>
                    <button class="demo-btn" onclick="loadProcess('A', 2)">Load Process A (2 pages)</button>
                    <button class="demo-btn" onclick="loadProcess('B', 3)">Load Process B (3 pages)</button>
                    <button class="demo-btn" onclick="loadProcess('C', 1)">Load Process C (1 page)</button>
                    <button class="demo-btn" onclick="showPageTable()">Show Page Table</button>
                </div>
                
                <div class="memory-visualization">
                    <div class="memory-section">
                        <h4>üìÑ Logical Memory (Pages)</h4>
                        <div id="logical-memory">
                            <div style="padding: 20px; text-align: center; color: #666;">
                                Click "Load Process" to see pages
                            </div>
                        </div>
                    </div>
                    
                    <div class="memory-section">
                        <h4>üíæ Physical Memory (Frames)</h4>
                        <div class="frame-grid" id="physical-memory">
                            <!-- Physical frames will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
                
                <div id="page-table-display" style="display: none;">
                    <h4>üìã Page Table</h4>
                    <div id="page-table-content"></div>
                </div>
            </div>
        </div>

        <!-- Address Translation -->
        <div class="concept-card">
            <h2 class="concept-title">üîÑ Address Translation (Interview Favorite!)</h2>
            <img src="https://www.gatevidyalay.com/wp-content/uploads/2018/11/Translating-Logical-Address-into-Physical-Address-Diagram-768x442.png" alt="Address Translation Diagram" style="width: 100%; border-radius: 10px; margin: 15px 0;">
            <div class="logical-address">
                <h4>Logical Address Structure</h4>
                <div class="address-translation">
                    <div class="address-part">
                        <strong>Page Number (p)</strong>
                        <br>Index into Page Table
                        <br><small>Higher bits</small>
                    </div>
                    <div class="arrow">+</div>
                    <div class="address-part">
                        <strong>Page Offset (d)</strong>
                        <br>Offset within Page
                        <br><small>Lower bits</small>
                    </div>
                </div>
                <div class="formula-box">
                    <strong>Formula:</strong><br>
                    Physical Address = Frame Number √ó Page Size + Offset<br>
                    <br>
                    <strong>Example:</strong><br>
                    Logical Address = 1024 (Page 1, Offset 0)<br>
                    If Page 1 ‚Üí Frame 3, Page Size = 1024<br>
                    Physical Address = 3 √ó 1024 + 0 = 3072
                </div>
            </div>
        </div>

        <!-- Address Translation Steps -->
        <div class="concept-card">
            <h2 class="concept-title">üîß Address Translation Steps</h2>

            <div class="timeline">
                <div class="timeline-item">
                    <div class="timeline-number">1</div>
                    <div>
                        <strong>Extract Page Number</strong><br>
                        CPU generates logical address ‚Üí Split into page number and offset
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-number">2</div>
                    <div>
                        <strong>Check Page Table</strong><br>
                        Use page number as index to find corresponding frame number
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-number">3</div>
                    <div>
                        <strong>Calculate Physical Address</strong><br>
                        Combine frame number with offset to get physical address
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-number">4</div>
                    <div>
                        <strong>Access Memory</strong><br>
                        Use physical address to access actual memory location
                    </div>
                </div>
            </div>
        </div>

        <!-- TLB Explanation -->
        <div class="concept-card">
            <h2 class="concept-title">‚ö° TLB - Making Paging Fast</h2>
            <img src="https://files.prepinsta.com/2023/01/Translation-Look-aside-Buffer-TLB_.webp" alt="TLB Diagram" style="width: 100%; border-radius: 10px; margin: 15px 0;">
            <div class="visual-section">
                <div class="diagram">
                    <h4>Problem: Too Many Memory Accesses</h4>
                    <div class="timeline">
                        <div class="timeline-item">
                            <div class="timeline-number">1</div>
                            <div>Access Page Table (Memory Access #1)</div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-number">2</div>
                            <div>Access Actual Data (Memory Access #2)</div>
                        </div>
                    </div>
                    <div style="text-align: center; margin: 20px 0; color: #f44336;">
                        <strong>Double the memory accesses = Half the speed!</strong>
                    </div>
                </div>
                <div class="explanation">
                    <strong>TLB Solution:</strong>
                    <br>‚Ä¢ <strong>Translation Lookaside Buffer</strong>
                    <br>‚Ä¢ Hardware cache for page table entries
                    <br>‚Ä¢ Stores recent page ‚Üí frame mappings
                    <br>‚Ä¢ Super fast lookup (parallel to page table)
                    <br><br>
                    <strong>TLB Hit:</strong> Found in TLB ‚Üí 1 memory access
                    <br><strong>TLB Miss:</strong> Not in TLB ‚Üí 2 memory accesses
                    <br><br>
                    <strong>Typical TLB Hit Rate:</strong> 90-99%
                </div>
            </div>
        </div>

        <!-- TLB Demo -->
        <div class="concept-card">
            <h2 class="concept-title">üéØ TLB in Action</h2>
            <div class="tlb-cache">
                <h4>TLB Cache Contents</h4>
                <div class="tlb-entry">
                    <strong>Page 0</strong> ‚Üí <strong>Frame 3</strong>
                    <span style="color: #4caf50;">‚úÖ Hit</span>
                </div>
                <div class="tlb-entry">
                    <strong>Page 1</strong> ‚Üí <strong>Frame 7</strong>
                    <span style="color: #4caf50;">‚úÖ Hit</span>
                </div>
                <div class="tlb-entry">
                    <strong>Page 2</strong> ‚Üí <strong>Frame 1</strong>
                    <span style="color: #4caf50;">‚úÖ Hit</span>
                </div>
                <div class="tlb-entry">
                    <strong>Page 5</strong> ‚Üí <strong>Frame 9</strong>
                    <span style="color: #4caf50;">‚úÖ Hit</span>
                </div>
            </div>
            <div class="key-point">
                <strong>ASID (Address Space Identifier):</strong> Each TLB entry includes process ID to avoid conflicts between different processes
            </div>
        </div>

        <!-- Page Table Types -->
        <div class="concept-card">
            <h2 class="concept-title">üìä Page Table Types (Advanced Interview Topic)</h2>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Type</th>
                        <th>Description</th>
                        <th>Pros</th>
                        <th>Cons</th>
                        <th>Use Case</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Single-Level</strong></td>
                        <td>Simple array mapping</td>
                        <td>Fast, simple</td>
                        <td>Large memory overhead</td>
                        <td>Small address spaces</td>
                    </tr>
                    <tr>
                        <td><strong>Multi-Level</strong></td>
                        <td>Hierarchical structure</td>
                        <td>Space efficient</td>
                        <td>Multiple memory accesses</td>
                        <td>Large address spaces</td>
                    </tr>
                    <tr>
                        <td><strong>Inverted</strong></td>
                        <td>One entry per frame</td>
                        <td>Fixed size</td>
                        <td>Search overhead</td>
                        <td>Memory-constrained systems</td>
                    </tr>
                    <tr>
                        <td><strong>Hashed</strong></td>
                        <td>Hash table based</td>
                        <td>Good for sparse spaces</td>
                        <td>Hash collisions</td>
                        <td>Sparse address spaces</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Paging vs Segmentation -->
        <div class="concept-card">
            <h2 class="concept-title">‚öñÔ∏è Paging vs Segmentation (Interview Question)</h2>
            <div class="pros-cons">
                <div class="pros">
                    <h4>üìÑ Paging</h4>
                    <ul>
                        <li><strong>Fixed Size:</strong> All pages same size</li>
                        <li><strong>No External Fragmentation:</strong> Eliminates this problem</li>
                        <li><strong>Simple:</strong> Easy to implement</li>
                        <li><strong>Protection:</strong> Page-level protection</li>
                        <li><strong>Sharing:</strong> Pages can be shared</li>
                    </ul>
                </div>
                <div class="cons">
                    <h4>üìë Segmentation</h4>
                    <ul>
                        <li><strong>Variable Size:</strong> Segments of different sizes</li>
                        <li><strong>Logical Units:</strong> Matches program structure</li>
                        <li><strong>Better Protection:</strong> Segment-level protection</li>
                        <li><strong>Sharing:</strong> Logical units can be shared</li>
                        <li><strong>External Fragmentation:</strong> Still a problem</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Performance Calculations -->
        <div class="concept-card">
            <h2 class="concept-title">üìà Performance Calculations (Interview Math)</h2>
            <div class="formula-box">
                <strong>Effective Access Time (EAT):</strong><br>
                EAT = (1 + Œ±) √ó ma<br>
                Where: Œ± = page fault rate, ma = memory access time<br><br>
                
                <strong>With TLB:</strong><br>
                EAT = Œ± √ó (TLB access time + memory access time) + (1-Œ±) √ó (TLB access time + 2 √ó memory access time)<br>
                Where: Œ± = TLB hit rate<br><br>
                
                <strong>Example:</strong><br>
                TLB hit rate = 90%, TLB access = 1ns, Memory access = 100ns<br>
                EAT = 0.9 √ó (1 + 100) + 0.1 √ó (1 + 200) = 111.1ns
            </div>
        </div>

        <!-- Interview Questions -->
        <div class="interview-section">
            <h3>üéØ Top Interview Questions & Answers</h3>
            
            <div class="question-card">
                <strong>Q1: Why is paging better than contiguous allocation?</strong>
                <br><strong>A:</strong> Paging eliminates external fragmentation by allowing non-contiguous allocation. Processes can be loaded even if no single large contiguous block is available, improving memory utilization and reducing need for compaction.
            </div>
            
            <div class="question-card">
                <strong>Q2: How does TLB improve paging performance?</strong>
                <br><strong>A:</strong> TLB is a hardware cache that stores recent page-to-frame mappings. Without TLB, each memory access requires 2 memory accesses (page table + actual data). With TLB hit, only 1 memory access is needed, nearly doubling performance.
            </div>
            
            <div class="question-card">
                <strong>Q3: What happens on a TLB miss?</strong>
                <br><strong>A:</strong> On TLB miss, system accesses page table in memory, retrieves frame number, updates TLB with this mapping, then accesses actual data. This results in 2 memory accesses but improves future accesses to the same page.
            </div>
            
            <div class="question-card">
                <strong>Q4: How do you calculate physical address from logical address?</strong>
                <br><strong>A:</strong> Split logical address into page number and offset. Use page number as index into page table to get frame number. Physical address = (frame number √ó page size) + offset.
            </div>
            
            <div class="question-card">
                <strong>Q5: What is internal fragmentation in paging?</strong>
                <br><strong>A:</strong> Internal fragmentation occurs when a process doesn't fully utilize its last page. For example, if page size is 4KB and process needs 10KB, it gets 3 pages (12KB), wasting 2KB in the last page.
            </div>
            
            <div class="question-card">
                <strong>Q6: Why do we need ASID in TLB?</strong>
                <br><strong>A:</strong> ASID (Address Space Identifier) prevents conflicts between different processes. Without ASID, TLB would need to be flushed on every context switch. ASID allows TLB to hold entries for multiple processes simultaneously.
            </div>
        </div>

        <!-- Key Revision Points -->
        <div class="concept-card">
            <h2 class="concept-title">üìù Key Revision Points</h2>
            <div class="key-point">
                <strong>Paging Basics:</strong> Fixed-size pages (logical) map to fixed-size frames (physical). Page size = Frame size (typically 4KB).
            </div>
            <div class="key-point">
                <strong>Address Translation:</strong> Logical address = Page number + Offset ‚Üí Physical address = Frame number + Offset
            </div>
            <div class="key-point">
                <strong>TLB:</strong> Hardware cache for page table entries. Typical hit rate 90-99%. Reduces memory accesses from 2 to 1.
            </div>
            <div class="key-point">
                <strong>Page Table Types:</strong> Single-level (simple), Multi-level (space efficient), Inverted (fixed size), Hashed (sparse